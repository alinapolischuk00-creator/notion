<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calendar</title>

<style>
/* ===== ОБЩЕЕ ===== */
body {
    font-family: "PT Mono", monospace;
    background: #ffffff;
}

#calendari {
    font-weight: 600;
}

/* ===== ОБЕРТКА ===== */
.calendar-wrapper {
    display: flex;
    justify-content: center;
    margin-top: 40px;
}

/* ===== КАРТОЧКА ===== */
#calendari table {
    border-collapse: collapse;
    background: #d8cbb7;
    border-radius: 18px;
    overflow: hidden;
    width: 320px;
    box-shadow: 0 12px 24px rgba(0,0,0,0.15);
}

/* ===== ШАПКА ===== */
tr:first-child th {
    background: #5A2A27;
    color: #ffffff;
    font-size: 18px;
    padding: 16px 0 14px;
    position: relative;
    font-weight: 700;
}

.any {
    display: block;
    font-size: 14px;
    font-weight: 700;
    opacity: 0.95;
    letter-spacing: 0.4px;
    margin-top: 2px;
}

/* ===== КНОПКИ ===== */
.boto-prev,
.boto-next {
    background: transparent;
    border: none;
    color: #ffffff;
    font-size: 20px;
    font-weight: 700;
    cursor: pointer;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
}

.boto-prev { left: 14px; }
.boto-next { right: 14px; }

/* ===== ДНИ НЕДЕЛИ ===== */
tr:nth-child(2) th {
    background: transparent;
    color: #000000;
    font-size: 13px;
    font-weight: 700;
    padding: 12px 0 8px;
    letter-spacing: 0.4px;
}

/* ===== ЯЧЕЙКИ ===== */
td {
    padding: 6px;
}

td span {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 38px;
    height: 38px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
}

/* дни вне месяца */
td.fora span {
    opacity: 0.35;
}

/* сегодняшний день */
td.avui span {
    background: #5A2A27;
    color: #ffffff;
    font-weight: 700;
}

/* hover */
td span:hover {
    background: rgba(90,42,39,0.25);
}
</style>
</head>

<body>

<div class="calendar-wrapper">
    <div id="calendari"></div>
</div>

<script>
var mesos = [
    'Январь','Февраль','Март','Апрель','Май','Июнь',
    'Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'
];

var dies_abr = ['ВС','ПН','ВТ','СР','ЧТ','ПТ','СБ'];

Number.prototype.pad = function(num) {
    return this.toString().padStart(num, '0');
}

function calendari(widget, data) {

    widget.innerHTML = '';
    var table = document.createElement('table');

    /* ===== ШАПКА ===== */
    let tr = document.createElement('tr');
    let th = document.createElement('th');
    th.colSpan = 7;

    let prev = document.createElement('button');
    prev.className = 'boto-prev';
    prev.innerHTML = '&#8249;';

    let next = document.createElement('button');
    next.className = 'boto-next';
    next.innerHTML = '&#8250;';

    th.appendChild(prev);
    th.innerHTML += mesos[data.getMonth()] +
        '<span class="any">' + data.getFullYear() + '</span>';
    th.appendChild(next);

    tr.appendChild(th);
    table.appendChild(tr);

    prev.onclick = () => {
        data.setMonth(data.getMonth() - 1);
        calendari(widget, data);
    };

    next.onclick = () => {
        data.setMonth(data.getMonth() + 1);
        calendari(widget, data);
    };

    /* ===== ДНИ НЕДЕЛИ ===== */
    tr = document.createElement('tr');
    for (let i = 1; i < 7; i++) tr.innerHTML += `<th>${dies_abr[i]}</th>`;
    tr.innerHTML += `<th>${dies_abr[0]}</th>`;
    table.appendChild(tr);

    /* ===== ДАТЫ ===== */
    let startDay = new Date(data.getFullYear(), data.getMonth(), -1).getDay();
    let current = new Date(data.getFullYear(), data.getMonth(), -startDay);

    for (let w = 0; w < 6; w++) {
        tr = document.createElement('tr');

        for (let d = 0; d < 7; d++) {
            let td = document.createElement('td');
            let span = document.createElement('span');
            span.textContent = current.getDate();
            td.appendChild(span);

            if (current.getMonth() !== data.getMonth()) td.className = 'fora';

            let today = new Date();
            if (
                current.getDate() === today.getDate() &&
                current.getMonth() === today.getMonth() &&
                current.getFullYear() === today.getFullYear()
            ) td.className = 'avui';

            current.setDate(current.getDate() + 1);
            tr.appendChild(td);
        }
        table.appendChild(tr);
    }

    widget.appendChild(table);
}

calendari(document.getElementById('calendari'), new Date());
</script>

</body>
</html>
